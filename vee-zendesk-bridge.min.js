(function(root){if(!root)return;/* 1)Load Zendesk once */  if(!document.getElementById('ze-snippet')){window.zESettings=window.zESettings||{webWidget:{offset:{horizontal:'1px',vertical:'1px',mobile:{horizontal:'0px',vertical:'0px'}}}};var s=document.createElement('script');s.src='https://static.zdassets.com/ekr/snippet.js?key=4ed1c4a8-23f4-49cd-abfc-ec95d7ced67d';s.id='ze-snippet';s.async=true;document.head.appendChild(s);}/* 2)Wait for zE */  function onZE(cb){if(window.zE)return cb();let t=0;(function wait(){if(window.zE){cb();return;}if(++t>200)return;setTimeout(wait,100);})();}/* 3)Open helper(supports Classic and Messaging)*/  function openZendesk(){try{zE('webWidget','open');return;}catch(e){}try{zE('messenger','open');return;}catch(e){}}/* 4)Bind once with delegation so it survives page/content swaps */  function bind(){// Open when any of your Chat buttons are clicked(sidebar+mobile)root.addEventListener('click',function(e){const btn=e.target.closest('[data-page="chat"]');if(!btn||!root.contains(btn))return;e.preventDefault();openZendesk();});// Keep widget clear of your mobile bottom bar  const bar=root.querySelector('.ve-bar');if(bar){const mobileV=(Math.round(bar.getBoundingClientRect().height+8)+'px');try{zE('webWidget','updateSettings',{offset:{mobile:{horizontal:'0px',vertical:mobileV}}});}catch(_){}}}onZE(bind);})(document.getElementById('veeEmbed'));