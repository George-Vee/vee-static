/* vee-embed v1 */
(function(root){if(!root)return;(function(){if(document.querySelector('link[href*="font-awesome"],link[href*="fontawesome"]'))return;var l=document.createElement('link');l.rel='stylesheet';l.href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css';l.crossOrigin='anonymous';l.referrerPolicy='no-referrer';document.head.appendChild(l)})();const qs=(s,sc=root)=>sc.querySelector(s),qsa=(s,sc=root)=>Array.from(sc.querySelectorAll(s));(function(){function setActive(key){const id=key==='promotions'?'ve-promotions':'ve-home';qsa('.ve-page').forEach(p=>p.classList.toggle('is-active',p.id===id));qsa('[data-page]').forEach(el=>{const on=el.getAttribute('data-page')===key;el.classList.toggle('ve-active',on);on?el.setAttribute('aria-current','page'):el.removeAttribute('aria-current')});const pageEl=qs('#'+id);root.dispatchEvent(new CustomEvent('ve:init-rows',{detail:{scope:pageEl}}))}root.addEventListener('click',e=>{const a=e.target.closest('[data-page]');if(!a||!root.contains(a))return;const key=a.getAttribute('data-page');if(key==='home'||key==='promotions'){setActive(key);e.preventDefault()}});setActive('home')})();(function(){const sb=qs('#veSidebar'),btn=qs('#veToggle');if(!sb||!btn)return;const key='ve-sb-open';function applyVar(){const open=sb.classList.contains('is-open');const closedW=getComputedStyle(root).getPropertyValue('--w-closed').trim()||'86px';const openW=getComputedStyle(root).getPropertyValue('--w-open').trim()||'260px';root.style.setProperty('--sb-w',open?openW:closedW)}function set(open){sb.classList.toggle('is-open',open);btn.setAttribute('aria-expanded',String(open));btn.setAttribute('aria-label',open?'Collapse menu':'Expand menu');try{localStorage.setItem(key,open?'1':'0')}catch(_){}applyVar()}set(localStorage.getItem(key)==='1');btn.addEventListener('click',()=>set(!sb.classList.contains('is-open')));addEventListener('resize',applyVar,{passive:true})})();(function(){const box=qs('#veCb');if(!box)return;const pick=u=>box.querySelector(`[data-unit="${u}"]`);function nextFriday2000(now){const d=new Date(now),toFri=(5-d.getDay()+7)%7,tgt=new Date(d);tgt.setDate(d.getDate()+toFri);tgt.setHours(20,0,0,0);if(d>=tgt)tgt.setDate(tgt.getDate()+7);return tgt}let target=nextFriday2000(new Date());function render(){const now=new Date();if(now>=target)target=nextFriday2000(now);const s=Math.max(0,((target-now)/1000)|0),dd=(s/86400)|0,hh=((s%86400)/3600)|0,mm=((s%3600)/60)|0,ss=s%60;pick('d').textContent=dd;pick('h').textContent=String(hh).padStart(2,'0');pick('m').textContent=String(mm).padStart(2,'0');pick('s').textContent=String(ss).padStart(2,'0')}render();setInterval(render,1000)})();(function(){const hero=document.getElementById('ve-hero');if(!hero)return;const slides=[...hero.querySelectorAll('.ve-slide')],dotsWrap=hero.querySelector('#ve-dots'),prev=hero.querySelector('.ve-prev'),next=hero.querySelector('.ve-next'),N=slides.length;if(!N){prev&&prev.remove();next&&next.remove();return}dotsWrap.innerHTML='';slides.forEach((_,i)=>{const d=document.createElement('div');d.className='ve-dot';d.dataset.idx=i;dotsWrap.appendChild(d)});const dots=[...dotsWrap.querySelectorAll('.ve-dot')];let idx=Math.max(0,slides.findIndex(s=>s.classList.contains('is-active')));if(idx<0)idx=0;let lock=false,auto=null;function imgFor(slide){return matchMedia('(max-width:768px)').matches?slide.querySelector('.ve-img-m'):slide.querySelector('.ve-img-d')}function setRatio(slide){const img=imgFor(slide);if(!img)return;const apply=()=>{const w=img.naturalWidth||1600,h=img.naturalHeight||500;hero.style.setProperty('--hero-ratio',`${w}/${h}`)};(img.complete&&img.naturalWidth)?apply():img.addEventListener('load',apply,{once:true})}function render(){slides.forEach((s,i)=>s.classList.toggle('is-active',i===idx));dots.forEach((d,i)=>d.classList.toggle('is-active',i===idx));setRatio(slides[idx])}function go(delta){if(lock)return;lock=true;idx=(idx+delta+N)%N;render();setTimeout(()=>lock=false,320)}dotsWrap.addEventListener('click',e=>{const d=e.target.closest('.ve-dot');if(!d)return;const target=parseInt(d.dataset.idx,10);if(Number.isFinite(target)){idx=target;render()}});prev.addEventListener('click',()=>go(-1));next.addEventListener('click',()=>go(+1));addEventListener('resize',()=>setRatio(slides[idx]),{passive:true});function start(){auto=setInterval(()=>go(+1),6000)}function stop(){clearInterval(auto);auto=null}hero.addEventListener('mouseenter',stop);hero.addEventListener('mouseleave',()=>{if(!auto)start()});if(N<2){prev.style.display='none';next.style.display='none';dotsWrap.style.display='none'}render();start()})();(function(){const banner=qs('#ve-win');if(!banner)return;const base=banner.querySelector('.ve-wincont');if(!base)return;const track=document.createElement('div');track.className='ve-wintrack';const clone=base.cloneNode(true);track.append(base,clone);banner.append(track);function measure(){const h=Math.ceil(base.getBoundingClientRect().height);const w=Math.ceil(base.scrollWidth||base.getBoundingClientRect().width);const pxPerSec=60;const dur=Math.max(10,w/pxPerSec);banner.style.setProperty('--marq-dur',dur+'s');banner.style.setProperty('--marq-h',h+'px')}if(document.readyState==='complete')measure();else window.addEventListener('load',measure,{once:true});window.addEventListener('resize',measure,{passive:true});setTimeout(measure,300)})();(function(){const rootEl=document.getElementById('veeEmbed');if(!rootEl)return;function num(v,f){const n=parseFloat(v);return Number.isFinite(n)?n:f}function getMetrics(row){const cs=getComputedStyle(row),gap=num(cs.gap||cs.columnGap,12),first=row.querySelector('.ve-card'),w=first?first.getBoundingClientRect().width:Math.max(160,row.clientWidth/3),card=w+gap,per=Math.max(1,Math.floor((row.clientWidth+gap)/card)),max=row.scrollWidth-row.clientWidth;return{gap,card,per,max}}const canSmooth='scrollBehavior'in document.documentElement.style;function smoothTo(el,left){if(canSmooth){el.scrollTo({left,behavior:'smooth'});return}const start=el.scrollLeft,dist=left-start,dur=260,t0=performance.now();function step(t){const p=Math.min(1,(t-t0)/dur),e=p<.5?2*p*p:-1+(4-2*p)*p;el.scrollLeft=start+dist*e;if(p<1)requestAnimationFrame(step)}requestAnimationFrame(step)}function pageScroll(row,dir){const{card,per,max}=getMetrics(row),snap=Math.round(row.scrollLeft/card)*card;let target=snap+dir*per*card;target=Math.max(0,Math.min(max,target));smoothTo(row,target)}function atStart(row){return row.scrollLeft<=1}function atEnd(row){return Math.ceil(row.scrollLeft+row.clientWidth)>=row.scrollWidth-1}function updateButtons(row,prev,next){prev.toggleAttribute('disabled',atStart(row));next.toggleAttribute('disabled',atEnd(row))}function ensureWrap(row){if(row.parentElement&&row.parentElement.classList.contains('ve-rowwrap'))return row.parentElement;const wrap=document.createElement('div');wrap.className='ve-rowwrap';row.parentNode.insertBefore(wrap,row);wrap.appendChild(row);return wrap}function initRow(row){if(row.dataset.veInit==='1')return;row.dataset.veInit='1';const wrap=ensureWrap(row),prev=document.createElement('button');prev.type='button';prev.className='ve-arrow ve-left';prev.setAttribute('aria-label','Scroll left');prev.textContent='‹';const next=document.createElement('button');next.type='button';next.className='ve-arrow ve-right';next.setAttribute('aria-label','Scroll right');next.textContent='›';wrap.append(prev,next);prev.addEventListener('click',()=>pageScroll(row,-1));next.addEventListener('click',()=>pageScroll(row,+1));row.addEventListener('scroll',()=>updateButtons(row,prev,next),{passive:true});addEventListener('resize',()=>updateButtons(row,prev,next),{passive:true});row.addEventListener('keydown',e=>{if(e.key==='ArrowRight'){e.preventDefault();pageScroll(row,+1)}else if(e.key==='ArrowLeft'){e.preventDefault();pageScroll(row,-1)}});queueMicrotask(()=>updateButtons(row,prev,next));if('ResizeObserver'in window){const ro=new ResizeObserver(()=>updateButtons(row,prev,next));ro.observe(row)}}function initScope(scope){scope.querySelectorAll('.ve-row').forEach(initRow)}initScope(rootEl);rootEl.addEventListener('ve:init-rows',e=>{initScope(e.detail?.scope||rootEl)})})();
})(document.getElementById('veeEmbed'));
